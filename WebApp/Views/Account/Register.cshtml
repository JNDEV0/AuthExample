@{
    ViewData["Title"] = "Register";
}

<div hx-target="this" hx-swap="outerHTML">
    <h2>Create an account</h2>
    <form hx-post="https://localhost:5001/api/auth/register-start" hx-trigger="submit">
        <div>
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required />
        </div>
        <div>
            <label for="dob">Date of Birth</label>
            <input type="date" id="dob" name="dateOfBirth" required />
        </div>
        <div>
            <input type="checkbox" id="terms" name="termsAccepted" required />
            <label for="terms">I accept the terms and conditions</label>
        </div>
        <button type="submit" disabled>Continue</button>
    </form>
</div>

<script>
    const form = document.querySelector('form');
    const email = document.querySelector('#email');
    const dob = document.querySelector('#dob');
    const terms = document.querySelector('#terms');
    const submit = document.querySelector('button[type="submit"]');

    function validateForm() {
        if (email.checkValidity() && dob.checkValidity() && terms.checkValidity()) {
            submit.disabled = false;
        } else {
            submit.disabled = true;
        }
    }

    email.addEventListener('input', validateForm);
    dob.addEventListener('input', validateForm);
    terms.addEventListener('input', validateForm);
</script>
